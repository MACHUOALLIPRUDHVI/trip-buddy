<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TripBuddy - Settings</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #3b82f6;
      --primary-light: #60a5fa;
      --secondary-color: #0ea5e9;
      --text-color: #f3f4f6;
      --bg-color: #0f172a;
      --card-bg: #1e293b;
      --border-color: #334155;
      --success-color: #10b981;
      --error-color: #ef4444;
      --header-height: 70px;
      --sidebar-width: 250px;
      --font-heading: 'Poppins', sans-serif;
      --font-body: 'Inter', sans-serif;
    }

    .light-mode {
      --primary-color: #1a56db;
      --primary-light: #3b82f6;
      --secondary-color: #0ea5e9;
      --text-color: #333;
      --bg-color: #f5f7fa;
      --card-bg: #fff;
      --border-color: #e2e8f0;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: var(--font-body);
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: var(--font-heading);
      font-weight: 600;
    }

    body {
      background-color: var(--bg-color);
      color: var(--text-color);
      min-height: 100vh;
      transition: all 0.3s ease;
    }

    .background-circles {
      position: fixed;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: -1;
      pointer-events: none;
    }

    .circle {
      position: absolute;
      border-radius: 50%;
      background: linear-gradient(to right, rgba(59, 130, 246, 0.05), rgba(79, 209, 197, 0.05));
      animation: float 8s infinite ease-in-out alternate;
    }

    .circle:nth-child(1) {
      width: 300px;
      height: 300px;
      top: 10%;
      left: 10%;
    }

    .circle:nth-child(2) {
      width: 400px;
      height: 400px;
      bottom: 10%;
      right: 10%;
      animation-delay: 2s;
    }

    @keyframes float {
      0% { transform: translate(0, 0) rotate(0deg); }
      100% { transform: translate(20px, -20px) rotate(10deg); }
    }

    /* Header Styles */
    .header {
      height: var(--header-height);
      background-color: var(--card-bg);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 100;
      border-bottom: 1px solid var(--border-color);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo img {
      height: 40px;
    }

    .logo h1 {
      font-size: 20px;
      font-weight: 600;
      color: var(--text-color);
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .theme-toggle {
      cursor: pointer;
      font-size: 20px;
      color: var(--text-color);
    }

    .user-profile {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: var(--primary-light);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
    }

    .user-info {
      display: flex;
      flex-direction: column;
    }

    .user-name {
      font-size: 14px;
      font-weight: 600;
    }

    .user-email {
      font-size: 12px;
      opacity: 0.7;
    }

    /* Sidebar Styles */
    .sidebar {
      width: var(--sidebar-width);
      height: calc(100vh - var(--header-height));
      background-color: var(--card-bg);
      position: fixed;
      top: var(--header-height);
      left: 0;
      padding: 20px 0;
      overflow-y: auto;
      z-index: 90;
      border-right: 1px solid var(--border-color);
    }

    .sidebar-menu {
      list-style: none;
    }

    .sidebar-item {
      padding: 12px 20px;
      display: flex;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s;
      border-left: 3px solid transparent;
      color: var(--text-color);
      font-weight: 500;
      margin-bottom: 5px;
    }

    .sidebar-item:hover {
      background-color: rgba(59, 130, 246, 0.1);
    }

    .sidebar-item.active {
      background-color: rgba(59, 130, 246, 0.15);
      border-left-color: var(--primary-color);
      color: var(--primary-color);
    }

    .sidebar-item i {
      margin-right: 10px;
      font-size: 18px;
      width: 25px;
      text-align: center;
    }

    /* Main Content Styles */
    .main-content {
      margin-left: var(--sidebar-width);
      margin-top: var(--header-height);
      padding: 20px;
      min-height: calc(100vh - var(--header-height));
    }

    .page-title {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 24px;
      color: var(--text-color);
      letter-spacing: -0.5px;
    }

    /* Settings Styles */
    .settings-container {
      display: grid;
      grid-template-columns: 250px 1fr;
      gap: 20px;
    }

    .settings-nav {
      background-color: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid var(--border-color);
    }

    .settings-nav-item {
      padding: 15px 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      transition: all 0.3s;
      color: var(--text-color);
      border-left: 3px solid transparent;
    }

    .settings-nav-item:hover {
      background-color: rgba(59, 130, 246, 0.1);
    }

    .settings-nav-item.active {
      background-color: rgba(59, 130, 246, 0.15);
      border-left-color: var(--primary-color);
      color: var(--primary-color);
    }

    .settings-nav-item i {
      font-size: 18px;
      width: 24px;
      text-align: center;
    }

    .settings-content {
      background-color: var(--card-bg);
      border-radius: 12px;
      padding: 24px;
      border: 1px solid var(--border-color);
    }

    .settings-section {
      margin-bottom: 30px;
    }

    .settings-section:last-child {
      margin-bottom: 0;
    }

    .settings-section-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border-color);
      color: var(--text-color);
    }

    /* Toggle Switch */
    .toggle-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .toggle-label {
      font-size: 16px;
      color: var(--text-color);
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 26px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(255, 255, 255, 0.2);
      transition: .4s;
      border-radius: 34px;
    }

    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 20px;
      width: 20px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .toggle-slider {
      background-color: var(--primary-color);
    }

    input:checked + .toggle-slider:before {
      transform: translateX(24px);
    }

    /* Account Center Styles */
    .account-profile {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 30px;
    }

    .account-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background-color: var(--primary-color);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 36px;
      font-weight: 600;
      position: relative;
    }

    .avatar-edit {
      position: absolute;
      bottom: 0;
      right: 0;
      width: 32px;
      height: 32px;
      background-color: var(--card-bg);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary-color);
      border: 2px solid var(--primary-color);
      cursor: pointer;
      font-size: 14px;
    }

    .account-info h2 {
      font-size: 24px;
      margin-bottom: 5px;
    }

    .account-info p {
      font-size: 16px;
      opacity: 0.7;
    }

    .account-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-bottom: 30px;
    }

    .stat-card {
      background-color: rgba(59, 130, 246, 0.1);
      border-radius: 10px;
      padding: 15px;
      text-align: center;
    }

    .stat-value {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .stat-label {
      font-size: 14px;
      opacity: 0.7;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-size: 14px;
      color: var(--text-color);
    }

    .form-control {
      width: 100%;
      padding: 12px;
      background-color: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      color: var(--text-color);
      font-size: 14px;
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary-color);
    }

    .btn {
      padding: 12px 24px;
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s;
    }

    .btn:hover {
      background-color: var(--primary-light);
    }

    .btn-secondary {
      background-color: transparent;
      border: 1px solid var(--border-color);
      color: var(--text-color);
    }

    .btn-secondary:hover {
      background-color: rgba(255, 255, 255, 0.05);
    }

    .btn-danger {
      background-color: var(--error-color);
    }

    .btn-danger:hover {
      background-color: rgba(239, 68, 68, 0.8);
    }

    .form-actions {
      display: flex;
      gap: 10px;
    }

    /* Settings Tab Styles */
    .settings-tab {
      display: none;
    }

    .settings-tab.active {
      display: block;
    }

    /* Responsive Styles */
    @media (max-width: 992px) {
      .sidebar {
        transform: translateX(-100%);
      }

      .sidebar.active {
        transform: translateX(0);
      }

      .main-content {
        margin-left: 0;
      }

      .settings-container {
        grid-template-columns: 1fr;
      }
    }

    /* Additional styles for settings features */
    .reduce-animations * {
      transition: none !important;
      animation: none !important;
    }

    .high-contrast {
      --primary-color: #0066ff;
      --primary-light: #0099ff;
      --secondary-color: #00cc00;
      --text-color: #ffffff;
      --bg-color: #000000;
      --card-bg: #222222;
      --border-color: #444444;
      --success-color: #00cc00;
      --error-color: #ff0000;
    }

    .high-contrast.light-mode {
      --primary-color: #0000cc;
      --primary-light: #0033ff;
      --secondary-color: #006600;
      --text-color: #000000;
      --bg-color: #ffffff;
      --card-bg: #f0f0f0;
      --border-color: #999999;
    }

    @media (max-width: 768px) {
      .user-info {
        display: none;
      }

      .account-stats {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="background-circles">
    <div class="circle"></div>
    <div class="circle"></div>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="logo">
      <img src="https://cdn-icons-png.flaticon.com/512/201/201623.png" alt="TripBuddy Logo">
      <h1>TripBuddy</h1>
    </div>
    <div class="header-right">
      <div class="theme-toggle" id="themeToggle">
        <i class="fas fa-sun"></i>
      </div>
      <div class="user-profile" id="userProfile">
        <div class="user-avatar" id="userAvatar">P</div>
        <div class="user-info">
          <div class="user-name" id="headerUserName">prudhvireddy00091</div>
          <div class="user-email" id="headerUserEmail">prudhvireddy00091@gmail.com</div>
        </div>
      </div>
    </div>
  </header>

  <!-- Sidebar -->
  <aside class="sidebar">
    <ul class="sidebar-menu">
      <li class="sidebar-item" id="dashboard-link">
        <i class="fas fa-home"></i>
        <span>Dashboard</span>
      </li>

      <li class="sidebar-item" id="trips-link">
        <i class="fas fa-plane-departure"></i>
        <span>Trips</span>
      </li>

      <li class="sidebar-item" id="accommodations-link">
        <i class="fas fa-hotel"></i>
        <span>Accommodations</span>
      </li>
      <li class="sidebar-item" id="food-link">
        <i class="fas fa-utensils"></i>
        <span>Food</span>
      </li>
      <li class="sidebar-item" id="maps-link">
        <i class="fas fa-map-marked-alt"></i>
        <span>Maps</span>
      </li>
      <li class="sidebar-item active" id="settings-link">
        <i class="fas fa-cog"></i>
        <span>Settings</span>
      </li>
    </ul>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <h1 class="page-title">Settings</h1>

    <div class="settings-container">
      <!-- Settings Navigation -->
      <div class="settings-nav">
        <div class="settings-nav-item active" data-tab="appearance">
          <i class="fas fa-palette"></i>
          <span>Appearance</span>
        </div>
        <div class="settings-nav-item" data-tab="account">
          <i class="fas fa-user-circle"></i>
          <span>Account Center</span>
        </div>
        <div class="settings-nav-item" data-tab="notifications">
          <i class="fas fa-bell"></i>
          <span>Notifications</span>
        </div>
        <div class="settings-nav-item" data-tab="privacy">
          <i class="fas fa-shield-alt"></i>
          <span>Privacy</span>
        </div>
        <div class="settings-nav-item" data-tab="language">
          <i class="fas fa-globe"></i>
          <span>Language & Region</span>
        </div>
        <div class="settings-nav-item" data-tab="security">
          <i class="fas fa-lock"></i>
          <span>Security</span>
        </div>
        <div class="settings-nav-item" data-tab="logout" id="logoutBtn" style="color: #ef4444;">
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </div>
      </div>

      <!-- Settings Content -->
      <div class="settings-content">
        <!-- Appearance Tab -->
        <div class="settings-tab active" id="appearance-tab">
          <div class="settings-section">
            <h3 class="settings-section-title">Theme Settings</h3>

            <div class="toggle-container">
              <span class="toggle-label">Dark Mode</span>
              <label class="toggle-switch">
                <input type="checkbox" id="darkModeToggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="toggle-container">
              <span class="toggle-label">Reduce Animations</span>
              <label class="toggle-switch">
                <input type="checkbox" id="reduceAnimationsToggle">
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="toggle-container">
              <span class="toggle-label">High Contrast Mode</span>
              <label class="toggle-switch">
                <input type="checkbox" id="highContrastToggle">
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="form-actions" style="margin-top: 20px;">
              <button id="saveThemeBtn" class="btn">Save Theme Settings</button>
            </div>
          </div>

          <div class="settings-section">
            <h3 class="settings-section-title">Font Settings</h3>

            <div class="form-group">
              <label for="fontSizeSelect">Font Size</label>
              <select id="fontSizeSelect" class="form-control">
                <option value="small">Small</option>
                <option value="medium" selected>Medium</option>
                <option value="large">Large</option>
                <option value="x-large">Extra Large</option>
              </select>
            </div>

            <div class="form-group">
              <label for="fontFamilySelect">Font Family</label>
              <select id="fontFamilySelect" class="form-control">
                <option value="default" selected>Default (Poppins/Inter)</option>
                <option value="arial">Arial</option>
                <option value="roboto">Roboto</option>
                <option value="opensans">Open Sans</option>
                <option value="montserrat">Montserrat</option>
              </select>
            </div>

            <div class="form-actions" style="margin-top: 20px;">
              <button id="saveFontBtn" class="btn">Save Font Settings</button>
            </div>
          </div>
        </div>

        <!-- Account Center Tab -->
        <div class="settings-tab" id="account-tab">
          <div class="account-profile">
            <div class="account-avatar" id="accountAvatar">
              P
              <div class="avatar-edit">
                <i class="fas fa-camera"></i>
              </div>
            </div>
            <div class="account-info">
              <h2 id="accountName">prudhvireddy00091</h2>
              <p id="accountEmail">prudhvireddy00091@gmail.com</p>
            </div>
          </div>

          <div class="account-stats">
            <div class="stat-card">
              <div class="stat-value" id="tripsCount">5</div>
              <div class="stat-label">Trips</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="ticketsCount">8</div>
              <div class="stat-label">Tickets</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="bookingsCount">3</div>
              <div class="stat-label">Bookings</div>
            </div>
          </div>

          <div class="settings-section">
            <h3 class="settings-section-title">Profile Information</h3>

            <div class="form-group">
              <label for="fullName">Full Name</label>
              <input type="text" id="fullName" class="form-control" value="prudhvireddy00091">
            </div>

            <div class="form-group">
              <label for="emailAddress">Email Address</label>
              <input type="email" id="emailAddress" class="form-control" value="prudhvireddy00091@gmail.com">
            </div>

            <div class="form-group">
              <label for="phoneNumber">Phone Number</label>
              <input type="tel" id="phoneNumber" class="form-control" value="+1 (555) 123-4567">
            </div>

            <div class="form-actions">
              <button id="saveProfileBtn" class="btn">Save Changes</button>
            </div>
          </div>
        </div>

        <!-- Other tabs would be here but hidden by default -->
        <div class="settings-tab" id="notifications-tab">
          <div class="settings-section">
            <h3 class="settings-section-title">Notification Preferences</h3>

            <div class="toggle-container">
              <span class="toggle-label">Email Notifications</span>
              <label class="toggle-switch">
                <input type="checkbox" id="emailNotificationsToggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="toggle-container">
              <span class="toggle-label">Push Notifications</span>
              <label class="toggle-switch">
                <input type="checkbox" id="pushNotificationsToggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="toggle-container">
              <span class="toggle-label">SMS Notifications</span>
              <label class="toggle-switch">
                <input type="checkbox" id="smsNotificationsToggle">
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>

          <div class="settings-section">
            <h3 class="settings-section-title">Notification Types</h3>

            <div class="toggle-container">
              <span class="toggle-label">Trip Reminders</span>
              <label class="toggle-switch">
                <input type="checkbox" id="tripRemindersToggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="toggle-container">
              <span class="toggle-label">Booking Confirmations</span>
              <label class="toggle-switch">
                <input type="checkbox" id="bookingConfirmationsToggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="toggle-container">
              <span class="toggle-label">Price Alerts</span>
              <label class="toggle-switch">
                <input type="checkbox" id="priceAlertsToggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="toggle-container">
              <span class="toggle-label">Travel Tips</span>
              <label class="toggle-switch">
                <input type="checkbox" id="travelTipsToggle">
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="toggle-container">
              <span class="toggle-label">Marketing & Promotions</span>
              <label class="toggle-switch">
                <input type="checkbox" id="marketingToggle">
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="form-actions" style="margin-top: 20px;">
              <button id="saveNotificationsBtn" class="btn">Save Notification Settings</button>
            </div>
          </div>
        </div>

        <div class="settings-tab" id="privacy-tab">
          <div class="settings-section">
            <h3 class="settings-section-title">Privacy Settings</h3>

            <div class="toggle-container">
              <span class="toggle-label">Share Trip History</span>
              <label class="toggle-switch">
                <input type="checkbox" id="shareTripHistoryToggle">
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="toggle-container">
              <span class="toggle-label">Allow Location Tracking</span>
              <label class="toggle-switch">
                <input type="checkbox" id="locationTrackingToggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="toggle-container">
              <span class="toggle-label">Share Usage Data</span>
              <label class="toggle-switch">
                <input type="checkbox" id="shareUsageDataToggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="toggle-container">
              <span class="toggle-label">Personalized Recommendations</span>
              <label class="toggle-switch">
                <input type="checkbox" id="personalizedRecsToggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>

          <div class="settings-section">
            <h3 class="settings-section-title">Data Management</h3>

            <p style="margin-bottom: 20px;">Manage your personal data and privacy settings.</p>

            <div class="form-actions">
              <button id="downloadDataBtn" class="btn btn-secondary">Download My Data</button>
            </div>

            <div class="form-actions" style="margin-top: 10px;">
              <button id="deleteDataBtn" class="btn btn-danger">Delete My Data</button>
            </div>

            <div class="form-actions" style="margin-top: 20px;">
              <button id="savePrivacyBtn" class="btn">Save Privacy Settings</button>
            </div>
          </div>
        </div>

        <div class="settings-tab" id="language-tab">
          <div class="settings-section">
            <h3 class="settings-section-title">Language & Region</h3>

            <div class="form-group">
              <label for="languageSelect">Language</label>
              <select id="languageSelect" class="form-control">
                <option value="en" selected>English</option>
                <option value="es">Español (Spanish)</option>
                <option value="fr">Français (French)</option>
                <option value="de">Deutsch (German)</option>
                <option value="it">Italiano (Italian)</option>
                <option value="pt">Português (Portuguese)</option>
                <option value="ru">Русский (Russian)</option>
                <option value="zh">中文 (Chinese)</option>
                <option value="ja">日本語 (Japanese)</option>
                <option value="ko">한국어 (Korean)</option>
                <option value="ar">العربية (Arabic)</option>
                <option value="hi">हिन्दी (Hindi)</option>
                <option value="bn">বাংলা (Bengali)</option>
                <option value="th">ไทย (Thai)</option>
                <option value="vi">Tiếng Việt (Vietnamese)</option>
              </select>
            </div>

            <div class="form-group">
              <label for="regionSelect">Region</label>
              <select id="regionSelect" class="form-control">
                <option value="us" selected>United States</option>
                <option value="gb">United Kingdom</option>
                <option value="ca">Canada</option>
                <option value="au">Australia</option>
                <option value="in">India</option>
                <option value="jp">Japan</option>
                <option value="de">Germany</option>
                <option value="fr">France</option>
                <option value="it">Italy</option>
                <option value="es">Spain</option>
                <option value="br">Brazil</option>
                <option value="mx">Mexico</option>
                <option value="ru">Russia</option>
                <option value="cn">China</option>
                <option value="za">South Africa</option>
                <option value="sg">Singapore</option>
                <option value="ae">United Arab Emirates</option>
              </select>
            </div>

            <div class="form-group">
              <label for="currencySelect">Currency</label>
              <select id="currencySelect" class="form-control">
                <option value="USD" selected>US Dollar ($)</option>
                <option value="EUR">Euro (€)</option>
                <option value="GBP">British Pound (£)</option>
                <option value="JPY">Japanese Yen (¥)</option>
                <option value="AUD">Australian Dollar (A$)</option>
                <option value="CAD">Canadian Dollar (C$)</option>
                <option value="INR">Indian Rupee (₹)</option>
                <option value="CNY">Chinese Yuan (¥)</option>
                <option value="BRL">Brazilian Real (R$)</option>
                <option value="RUB">Russian Ruble (₽)</option>
                <option value="KRW">South Korean Won (₩)</option>
                <option value="SGD">Singapore Dollar (S$)</option>
                <option value="AED">UAE Dirham (د.إ)</option>
                <option value="MXN">Mexican Peso (Mex$)</option>
                <option value="ZAR">South African Rand (R)</option>
              </select>
            </div>

            <div class="form-group">
              <label for="dateFormatSelect">Date Format</label>
              <select id="dateFormatSelect" class="form-control">
                <option value="mdy" selected>MM/DD/YYYY (US)</option>
                <option value="dmy">DD/MM/YYYY (UK, Europe)</option>
                <option value="ymd">YYYY/MM/DD (ISO)</option>
              </select>
            </div>

            <div class="form-group">
              <label for="timeFormatSelect">Time Format</label>
              <select id="timeFormatSelect" class="form-control">
                <option value="12h" selected>12-hour (AM/PM)</option>
                <option value="24h">24-hour</option>
              </select>
            </div>

            <div class="form-actions">
              <button id="saveLanguageBtn" class="btn">Save Preferences</button>
            </div>
          </div>
        </div>

        <div class="settings-tab" id="security-tab">
          <div class="settings-section">
            <h3 class="settings-section-title">Password Management</h3>

            <div class="form-group">
              <label for="currentPassword">Current Password</label>
              <input type="password" id="currentPassword" class="form-control">
            </div>

            <div class="form-group">
              <label for="newPassword">New Password</label>
              <input type="password" id="newPassword" class="form-control">
            </div>

            <div class="form-group">
              <label for="confirmNewPassword">Confirm New Password</label>
              <input type="password" id="confirmNewPassword" class="form-control">
            </div>

            <div class="form-actions">
              <button id="changePasswordBtn" class="btn">Change Password</button>
            </div>
          </div>

          <div class="settings-section">
            <h3 class="settings-section-title">Two-Factor Authentication</h3>

            <div class="toggle-container">
              <span class="toggle-label">Enable Two-Factor Authentication</span>
              <label class="toggle-switch">
                <input type="checkbox" id="twoFactorToggle">
                <span class="toggle-slider"></span>
              </label>
            </div>

            <p style="margin-top: 15px; margin-bottom: 15px;">Two-factor authentication adds an extra layer of security to your account by requiring a verification code in addition to your password.</p>

            <div id="twoFactorOptions" style="display: none; margin-top: 20px;">
              <div class="form-group">
                <label for="phoneForTwoFactor">Phone Number for SMS Verification</label>
                <input type="tel" id="phoneForTwoFactor" class="form-control" value="+1 (555) 123-4567">
              </div>

              <div class="form-actions">
                <button id="setupTwoFactorBtn" class="btn">Set Up Two-Factor Authentication</button>
              </div>
            </div>
          </div>

          <div class="settings-section">
            <h3 class="settings-section-title">Login Sessions</h3>

            <p>You are currently logged in on this device.</p>

            <div class="form-actions" style="margin-top: 15px;">
              <button id="logoutAllDevicesBtn" class="btn btn-secondary">Logout from All Devices</button>
            </div>
          </div>
        </div>

        <!-- Logout Tab -->
        <div class="settings-tab" id="logout-tab">
          <div class="settings-section">
            <h3 class="settings-section-title">Logout</h3>
            <p>Are you sure you want to logout from your account?</p>
            <div class="form-actions" style="margin-top: 20px;">
              <button id="confirmLogoutBtn" class="btn btn-danger">Confirm Logout</button>
              <button id="cancelLogoutBtn" class="btn btn-secondary">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Transportation Modal -->
  <div class="modal-overlay" id="transportationModal">
    <div class="transportation-modal">
      <div class="modal-header">
        <h2 class="modal-title">Choose Transportation</h2>
        <button class="close-modal" id="closeModalBtn">&times;</button>
      </div>
      <div class="transportation-options">
        <!-- Bus Option -->
        <div class="transport-option" data-type="bus">
          <div class="transport-icon">
            <i class="fas fa-bus"></i>
          </div>
          <div class="transport-name">Bus</div>
          <div class="transport-description">Book intercity and local buses</div>
        </div>

        <!-- Train Option -->
        <div class="transport-option" data-type="train">
          <div class="transport-icon">
            <i class="fas fa-train"></i>
          </div>
          <div class="transport-name">Train</div>
          <div class="transport-description">Book train tickets</div>
        </div>

        <!-- Flight Option -->
        <div class="transport-option" data-type="flight">
          <div class="transport-icon">
            <i class="fas fa-plane-departure"></i>
          </div>
          <div class="transport-name">Flight</div>
          <div class="transport-description">Book domestic & international flights</div>
        </div>

        <!-- Car Option -->
        <div class="transport-option" data-type="car">
          <div class="transport-icon">
            <i class="fas fa-car"></i>
          </div>
          <div class="transport-name">Car Rental</div>
          <div class="transport-description">Rent a car for your trip</div>
        </div>

        <!-- Cab Option -->
        <div class="transport-option" data-type="cab">
          <div class="transport-icon">
            <i class="fas fa-taxi"></i>
          </div>
          <div class="transport-name">Cab</div>
          <div class="transport-description">Book cabs for local travel</div>
        </div>

        <!-- Bike Option -->
        <div class="transport-option" data-type="bike">
          <div class="transport-icon">
            <i class="fas fa-motorcycle"></i>
          </div>
          <div class="transport-name">Bike</div>
          <div class="transport-description">Book Ola Bikes for local travel</div>
        </div>

        <!-- Metro Option -->
        <div class="transport-option" data-type="metro">
          <div class="transport-icon">
            <i class="fas fa-subway"></i>
          </div>
          <div class="transport-name">Metro</div>
          <div class="transport-description">Book metro tickets for city travel</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // DOM Elements
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    const userAvatar = document.getElementById('userAvatar');
    const headerUserName = document.getElementById('headerUserName');
    const headerUserEmail = document.getElementById('headerUserEmail');
    const accountAvatar = document.getElementById('accountAvatar');
    const accountName = document.getElementById('accountName');
    const accountEmail = document.getElementById('accountEmail');
    const darkModeToggle = document.getElementById('darkModeToggle');
    const settingsNavItems = document.querySelectorAll('.settings-nav-item');
    const settingsTabs = document.querySelectorAll('.settings-tab');
    const dashboardLink = document.getElementById('dashboard-link');

    const tripsCount = document.getElementById('tripsCount');
    const ticketsCount = document.getElementById('ticketsCount');
    const bookingsCount = document.getElementById('bookingsCount');
    const saveProfileBtn = document.getElementById('saveProfileBtn');
    const fullName = document.getElementById('fullName');
    const emailAddress = document.getElementById('emailAddress');
    const phoneNumber = document.getElementById('phoneNumber');
    const languageSelect = document.getElementById('languageSelect');
    const regionSelect = document.getElementById('regionSelect');
    const currencySelect = document.getElementById('currencySelect');
    const dateFormatSelect = document.getElementById('dateFormatSelect');
    const timeFormatSelect = document.getElementById('timeFormatSelect');
    const saveLanguageBtn = document.getElementById('saveLanguageBtn');

    // Check if user is logged in
    const isLoggedIn = localStorage.getItem('isLoggedIn');
    if (!isLoggedIn) {
      // Redirect to login page if not logged in
      window.location.href = 'app-login.html';
    } else {
      // Update user information
      const userName = localStorage.getItem('userName') || 'User';
      const userEmail = localStorage.getItem('userEmail') || 'user@example.com';

      if (headerUserName) headerUserName.textContent = userName;
      if (headerUserEmail) headerUserEmail.textContent = userEmail;
      if (accountName) accountName.textContent = userName;
      if (accountEmail) accountEmail.textContent = userEmail;
      if (fullName) fullName.value = userName;
      if (emailAddress) emailAddress.value = userEmail;

      // Set avatar initials
      const nameParts = userName.split(' ');
      let initials = '';
      if (nameParts.length > 1) {
        initials = nameParts[0].charAt(0) + nameParts[1].charAt(0);
      } else {
        initials = nameParts[0].charAt(0);
      }

      if (userAvatar) userAvatar.textContent = initials.toUpperCase();
      if (accountAvatar) accountAvatar.textContent = initials.toUpperCase();

      // Update stats
      const tickets = JSON.parse(localStorage.getItem('tickets')) || [];
      if (ticketsCount) ticketsCount.textContent = tickets.length;
      if (tripsCount) tripsCount.textContent = '0'; // Placeholder
      if (bookingsCount) bookingsCount.textContent = '0'; // Placeholder
    }

    // Theme toggle
    themeToggle.addEventListener('click', function() {
      body.classList.toggle('light-mode');
      const icon = this.querySelector('i');
      if (body.classList.contains('light-mode')) {
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
        if (darkModeToggle) darkModeToggle.checked = false;
      } else {
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
        if (darkModeToggle) darkModeToggle.checked = true;
      }
      localStorage.setItem('lightMode', body.classList.contains('light-mode'));
    });

    // Check for saved theme preference
    if (localStorage.getItem('lightMode') === 'true') {
      body.classList.add('light-mode');
      const icon = themeToggle.querySelector('i');
      icon.classList.remove('fa-sun');
      icon.classList.add('fa-moon');
      if (darkModeToggle) darkModeToggle.checked = false;
    } else {
      // Default to dark mode
      const icon = themeToggle.querySelector('i');
      icon.classList.remove('fa-moon');
      icon.classList.add('fa-sun');
      if (darkModeToggle) darkModeToggle.checked = true;
    }

    // Get additional DOM elements for settings
    const reduceAnimationsToggle = document.getElementById('reduceAnimationsToggle');
    const highContrastToggle = document.getElementById('highContrastToggle');
    const fontSizeSelect = document.getElementById('fontSizeSelect');
    const fontFamilySelect = document.getElementById('fontFamilySelect');
    const saveThemeBtn = document.getElementById('saveThemeBtn');
    const saveFontBtn = document.getElementById('saveFontBtn');

    // Email notifications
    const emailNotificationsToggle = document.getElementById('emailNotificationsToggle');
    const pushNotificationsToggle = document.getElementById('pushNotificationsToggle');
    const smsNotificationsToggle = document.getElementById('smsNotificationsToggle');
    const tripRemindersToggle = document.getElementById('tripRemindersToggle');
    const bookingConfirmationsToggle = document.getElementById('bookingConfirmationsToggle');
    const priceAlertsToggle = document.getElementById('priceAlertsToggle');
    const travelTipsToggle = document.getElementById('travelTipsToggle');
    const marketingToggle = document.getElementById('marketingToggle');
    const saveNotificationsBtn = document.getElementById('saveNotificationsBtn');

    // Privacy settings
    const shareTripHistoryToggle = document.getElementById('shareTripHistoryToggle');
    const locationTrackingToggle = document.getElementById('locationTrackingToggle');
    const shareUsageDataToggle = document.getElementById('shareUsageDataToggle');
    const personalizedRecsToggle = document.getElementById('personalizedRecsToggle');
    const downloadDataBtn = document.getElementById('downloadDataBtn');
    const deleteDataBtn = document.getElementById('deleteDataBtn');
    const savePrivacyBtn = document.getElementById('savePrivacyBtn');

    // Security settings
    const currentPassword = document.getElementById('currentPassword');
    const newPassword = document.getElementById('newPassword');
    const confirmNewPassword = document.getElementById('confirmNewPassword');
    const changePasswordBtn = document.getElementById('changePasswordBtn');
    const twoFactorToggle = document.getElementById('twoFactorToggle');
    const twoFactorOptions = document.getElementById('twoFactorOptions');
    const phoneForTwoFactor = document.getElementById('phoneForTwoFactor');
    const setupTwoFactorBtn = document.getElementById('setupTwoFactorBtn');
    const logoutAllDevicesBtn = document.getElementById('logoutAllDevicesBtn');

    // Load saved settings
    function loadSavedSettings() {
      // Appearance settings
      if (localStorage.getItem('reduceAnimations') === 'true' && reduceAnimationsToggle) {
        reduceAnimationsToggle.checked = true;
        document.body.classList.add('reduce-animations');
      }

      if (localStorage.getItem('highContrast') === 'true' && highContrastToggle) {
        highContrastToggle.checked = true;
        document.body.classList.add('high-contrast');
      }

      if (localStorage.getItem('fontSize') && fontSizeSelect) {
        fontSizeSelect.value = localStorage.getItem('fontSize');
        document.body.style.fontSize = getFontSizeValue(localStorage.getItem('fontSize'));
      }

      if (localStorage.getItem('fontFamily') && fontFamilySelect) {
        fontFamilySelect.value = localStorage.getItem('fontFamily');
        setFontFamily(localStorage.getItem('fontFamily'));
      }

      // Notification settings
      if (localStorage.getItem('emailNotifications') === 'false' && emailNotificationsToggle) {
        emailNotificationsToggle.checked = false;
      }

      if (localStorage.getItem('pushNotifications') === 'false' && pushNotificationsToggle) {
        pushNotificationsToggle.checked = false;
      }

      if (localStorage.getItem('smsNotifications') === 'true' && smsNotificationsToggle) {
        smsNotificationsToggle.checked = true;
      }

      if (localStorage.getItem('tripReminders') === 'false' && tripRemindersToggle) {
        tripRemindersToggle.checked = false;
      }

      if (localStorage.getItem('bookingConfirmations') === 'false' && bookingConfirmationsToggle) {
        bookingConfirmationsToggle.checked = false;
      }

      if (localStorage.getItem('priceAlerts') === 'false' && priceAlertsToggle) {
        priceAlertsToggle.checked = false;
      }

      if (localStorage.getItem('travelTips') === 'true' && travelTipsToggle) {
        travelTipsToggle.checked = true;
      }

      if (localStorage.getItem('marketing') === 'true' && marketingToggle) {
        marketingToggle.checked = true;
      }

      // Privacy settings
      if (localStorage.getItem('shareTripHistory') === 'true' && shareTripHistoryToggle) {
        shareTripHistoryToggle.checked = true;
      }

      if (localStorage.getItem('locationTracking') === 'false' && locationTrackingToggle) {
        locationTrackingToggle.checked = false;
      }

      if (localStorage.getItem('shareUsageData') === 'false' && shareUsageDataToggle) {
        shareUsageDataToggle.checked = false;
      }

      if (localStorage.getItem('personalizedRecs') === 'false' && personalizedRecsToggle) {
        personalizedRecsToggle.checked = false;
      }

      // Security settings
      if (localStorage.getItem('twoFactorAuth') === 'true' && twoFactorToggle) {
        twoFactorToggle.checked = true;
        if (twoFactorOptions) twoFactorOptions.style.display = 'block';
      }

      if (localStorage.getItem('phoneForTwoFactor') && phoneForTwoFactor) {
        phoneForTwoFactor.value = localStorage.getItem('phoneForTwoFactor');
      }
    }

    // Helper function to get font size value
    function getFontSizeValue(size) {
      switch(size) {
        case 'small': return '0.9rem';
        case 'medium': return '1rem';
        case 'large': return '1.1rem';
        case 'x-large': return '1.25rem';
        default: return '1rem';
      }
    }

    // Helper function to set font family
    function setFontFamily(family) {
      let fontHeading = '';
      let fontBody = '';

      switch(family) {
        case 'arial':
          fontHeading = 'Arial, sans-serif';
          fontBody = 'Arial, sans-serif';
          break;
        case 'roboto':
          fontHeading = 'Roboto, sans-serif';
          fontBody = 'Roboto, sans-serif';
          break;
        case 'opensans':
          fontHeading = 'Open Sans, sans-serif';
          fontBody = 'Open Sans, sans-serif';
          break;
        case 'montserrat':
          fontHeading = 'Montserrat, sans-serif';
          fontBody = 'Montserrat, sans-serif';
          break;
        default:
          fontHeading = 'Poppins, sans-serif';
          fontBody = 'Inter, sans-serif';
      }

      document.documentElement.style.setProperty('--font-heading', fontHeading);
      document.documentElement.style.setProperty('--font-body', fontBody);
    }

    // Load saved settings on page load
    loadSavedSettings();

    // Dark mode toggle in settings
    if (darkModeToggle) {
      darkModeToggle.addEventListener('change', function() {
        if (this.checked) {
          body.classList.remove('light-mode');
          const icon = themeToggle.querySelector('i');
          icon.classList.remove('fa-moon');
          icon.classList.add('fa-sun');
        } else {
          body.classList.add('light-mode');
          const icon = themeToggle.querySelector('i');
          icon.classList.remove('fa-sun');
          icon.classList.add('fa-moon');
        }
        localStorage.setItem('lightMode', !this.checked);
      });
    }

    // Reduce animations toggle
    if (reduceAnimationsToggle) {
      reduceAnimationsToggle.addEventListener('change', function() {
        if (this.checked) {
          document.body.classList.add('reduce-animations');
        } else {
          document.body.classList.remove('reduce-animations');
        }
      });
    }

    // High contrast toggle
    if (highContrastToggle) {
      highContrastToggle.addEventListener('change', function() {
        if (this.checked) {
          document.body.classList.add('high-contrast');
        } else {
          document.body.classList.remove('high-contrast');
        }
      });
    }

    // Save theme settings
    if (saveThemeBtn) {
      saveThemeBtn.addEventListener('click', function() {
        localStorage.setItem('reduceAnimations', reduceAnimationsToggle.checked);
        localStorage.setItem('highContrast', highContrastToggle.checked);

        alert('Theme settings saved successfully!');
      });
    }

    // Font size change
    if (fontSizeSelect) {
      fontSizeSelect.addEventListener('change', function() {
        document.body.style.fontSize = getFontSizeValue(this.value);
      });
    }

    // Font family change
    if (fontFamilySelect) {
      fontFamilySelect.addEventListener('change', function() {
        setFontFamily(this.value);
      });
    }

    // Save font settings
    if (saveFontBtn) {
      saveFontBtn.addEventListener('click', function() {
        localStorage.setItem('fontSize', fontSizeSelect.value);
        localStorage.setItem('fontFamily', fontFamilySelect.value);

        alert('Font settings saved successfully!');
      });
    }

    // Save notification settings
    if (saveNotificationsBtn) {
      saveNotificationsBtn.addEventListener('click', function() {
        localStorage.setItem('emailNotifications', emailNotificationsToggle.checked);
        localStorage.setItem('pushNotifications', pushNotificationsToggle.checked);
        localStorage.setItem('smsNotifications', smsNotificationsToggle.checked);
        localStorage.setItem('tripReminders', tripRemindersToggle.checked);
        localStorage.setItem('bookingConfirmations', bookingConfirmationsToggle.checked);
        localStorage.setItem('priceAlerts', priceAlertsToggle.checked);
        localStorage.setItem('travelTips', travelTipsToggle.checked);
        localStorage.setItem('marketing', marketingToggle.checked);

        alert('Notification settings saved successfully!');
      });
    }

    // Save privacy settings
    if (savePrivacyBtn) {
      savePrivacyBtn.addEventListener('click', function() {
        localStorage.setItem('shareTripHistory', shareTripHistoryToggle.checked);
        localStorage.setItem('locationTracking', locationTrackingToggle.checked);
        localStorage.setItem('shareUsageData', shareUsageDataToggle.checked);
        localStorage.setItem('personalizedRecs', personalizedRecsToggle.checked);

        alert('Privacy settings saved successfully!');
      });
    }

    // Download data button
    if (downloadDataBtn) {
      downloadDataBtn.addEventListener('click', function() {
        // Create a data object with all user data
        const userData = {
          profile: {
            name: localStorage.getItem('userName'),
            email: localStorage.getItem('userEmail'),
            phone: localStorage.getItem('userPhone')
          },
          settings: {
            theme: {
              darkMode: !localStorage.getItem('lightMode'),
              reduceAnimations: localStorage.getItem('reduceAnimations') === 'true',
              highContrast: localStorage.getItem('highContrast') === 'true',
              fontSize: localStorage.getItem('fontSize'),
              fontFamily: localStorage.getItem('fontFamily')
            },
            notifications: {
              email: localStorage.getItem('emailNotifications') !== 'false',
              push: localStorage.getItem('pushNotifications') !== 'false',
              sms: localStorage.getItem('smsNotifications') === 'true',
              tripReminders: localStorage.getItem('tripReminders') !== 'false',
              bookingConfirmations: localStorage.getItem('bookingConfirmations') !== 'false',
              priceAlerts: localStorage.getItem('priceAlerts') !== 'false',
              travelTips: localStorage.getItem('travelTips') === 'true',
              marketing: localStorage.getItem('marketing') === 'true'
            },
            privacy: {
              shareTripHistory: localStorage.getItem('shareTripHistory') === 'true',
              locationTracking: localStorage.getItem('locationTracking') !== 'false',
              shareUsageData: localStorage.getItem('shareUsageData') !== 'false',
              personalizedRecs: localStorage.getItem('personalizedRecs') !== 'false'
            }
          },
          wallet: {
            balance: localStorage.getItem('walletBalance')
          },
          trips: JSON.parse(localStorage.getItem('trips') || '[]'),
          tickets: JSON.parse(localStorage.getItem('tickets') || '[]')
        };

        // Convert to JSON and create download link
        const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(userData, null, 2));
        const downloadAnchorNode = document.createElement('a');
        downloadAnchorNode.setAttribute("href", dataStr);
        downloadAnchorNode.setAttribute("download", "trip-buddy-data.json");
        document.body.appendChild(downloadAnchorNode);
        downloadAnchorNode.click();
        downloadAnchorNode.remove();
      });
    }

    // Delete data button
    if (deleteDataBtn) {
      deleteDataBtn.addEventListener('click', function() {
        if (confirm('Are you sure you want to delete all your data? This action cannot be undone.')) {
          // Keep user logged in but clear all other data
          const isLoggedIn = localStorage.getItem('isLoggedIn');
          const userName = localStorage.getItem('userName');
          const userEmail = localStorage.getItem('userEmail');
          const userId = localStorage.getItem('userId');

          localStorage.clear();

          // Restore login state
          localStorage.setItem('isLoggedIn', isLoggedIn);
          localStorage.setItem('userName', userName);
          localStorage.setItem('userEmail', userEmail);
          localStorage.setItem('userId', userId);
          localStorage.setItem('walletBalance', '1500');

          alert('Your data has been deleted successfully. Some settings will be reset to defaults.');

          // Reload the page to reset all settings
          window.location.reload();
        }
      });
    }

    // Change password button
    if (changePasswordBtn) {
      changePasswordBtn.addEventListener('click', function() {
        const current = currentPassword.value;
        const newPass = newPassword.value;
        const confirmNew = confirmNewPassword.value;

        if (!current || !newPass || !confirmNew) {
          alert('Please fill in all password fields.');
          return;
        }

        if (newPass !== confirmNew) {
          alert('New passwords do not match.');
          return;
        }

        if (newPass.length < 6) {
          alert('New password must be at least 6 characters long.');
          return;
        }

        // In a real app, this would send the password change to the server
        // For demo purposes, we'll just show a success message
        alert('Password changed successfully!');

        // Clear the password fields
        currentPassword.value = '';
        newPassword.value = '';
        confirmNewPassword.value = '';
      });
    }

    // Two-factor authentication toggle
    if (twoFactorToggle) {
      twoFactorToggle.addEventListener('change', function() {
        if (this.checked) {
          twoFactorOptions.style.display = 'block';
        } else {
          twoFactorOptions.style.display = 'none';
        }

        localStorage.setItem('twoFactorAuth', this.checked);
      });
    }

    // Setup two-factor authentication button
    if (setupTwoFactorBtn) {
      setupTwoFactorBtn.addEventListener('click', function() {
        const phone = phoneForTwoFactor.value;

        if (!phone) {
          alert('Please enter a valid phone number.');
          return;
        }

        localStorage.setItem('phoneForTwoFactor', phone);

        // In a real app, this would send a verification code to the phone
        // For demo purposes, we'll just show a success message
        alert('Two-factor authentication has been set up successfully! A verification code would be sent to your phone when you log in.');
      });
    }

    // Logout from all devices button
    if (logoutAllDevicesBtn) {
      logoutAllDevicesBtn.addEventListener('click', function() {
        if (confirm('Are you sure you want to log out from all devices? You will need to log in again on this device.')) {
          // In a real app, this would invalidate all sessions on the server
          // For demo purposes, we'll just log out the current session
          localStorage.removeItem('isLoggedIn');
          localStorage.removeItem('userName');
          localStorage.removeItem('userEmail');
          localStorage.removeItem('userId');
          localStorage.removeItem('userPhone');
          localStorage.removeItem('walletBalance');

          // Redirect to login page
          window.location.href = 'app-login.html';
        }
      });
    }

    // Settings tab navigation
    settingsNavItems.forEach(item => {
      item.addEventListener('click', function() {
        const tabId = this.getAttribute('data-tab');

        // Update active nav item
        settingsNavItems.forEach(navItem => navItem.classList.remove('active'));
        this.classList.add('active');

        // Show selected tab
        settingsTabs.forEach(tab => {
          tab.classList.remove('active');
          if (tab.id === `${tabId}-tab`) {
            tab.classList.add('active');
          }
        });
      });
    });

    // Save profile changes
    if (saveProfileBtn) {
      saveProfileBtn.addEventListener('click', function() {
        const newName = fullName.value.trim();
        const newEmail = emailAddress.value.trim();
        const newPhone = phoneNumber.value.trim();

        if (newName && newEmail) {
          localStorage.setItem('userName', newName);
          localStorage.setItem('userEmail', newEmail);
          localStorage.setItem('userPhone', newPhone);

          // Update displayed info
          if (headerUserName) headerUserName.textContent = newName;
          if (headerUserEmail) headerUserEmail.textContent = newEmail;
          if (accountName) accountName.textContent = newName;
          if (accountEmail) accountEmail.textContent = newEmail;

          // Update avatar initials
          const nameParts = newName.split(' ');
          let initials = '';
          if (nameParts.length > 1) {
            initials = nameParts[0].charAt(0) + nameParts[1].charAt(0);
          } else {
            initials = nameParts[0].charAt(0);
          }

          if (userAvatar) userAvatar.textContent = initials.toUpperCase();
          if (accountAvatar) accountAvatar.textContent = initials.toUpperCase();

          alert('Profile updated successfully!');
        } else {
          alert('Name and email are required!');
        }
      });
    }

    // Save language and region preferences
    if (saveLanguageBtn) {
      // Load saved preferences
      if (localStorage.getItem('language')) {
        languageSelect.value = localStorage.getItem('language');
      }
      if (localStorage.getItem('region')) {
        regionSelect.value = localStorage.getItem('region');
      }
      if (localStorage.getItem('currency')) {
        currencySelect.value = localStorage.getItem('currency');
      }
      if (localStorage.getItem('dateFormat')) {
        dateFormatSelect.value = localStorage.getItem('dateFormat');
      }
      if (localStorage.getItem('timeFormat')) {
        timeFormatSelect.value = localStorage.getItem('timeFormat');
      }

      // Save preferences
      saveLanguageBtn.addEventListener('click', function() {
        localStorage.setItem('language', languageSelect.value);
        localStorage.setItem('region', regionSelect.value);
        localStorage.setItem('currency', currencySelect.value);
        localStorage.setItem('dateFormat', dateFormatSelect.value);
        localStorage.setItem('timeFormat', timeFormatSelect.value);

        alert('Language and region preferences saved successfully!');
      });
    }

    // Navigation
    const tripsLink = document.getElementById('trips-link');
    const transportationModal = document.getElementById('transportationModal');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const transportOptions = document.querySelectorAll('.transport-option');

    // Show modal when trips link is clicked
    tripsLink.addEventListener('click', function() {
      transportationModal.classList.add('show');
    });

    // Close modal when close button is clicked
    closeModalBtn.addEventListener('click', function() {
      transportationModal.classList.remove('show');
    });

    // Close modal when clicking outside
    transportationModal.addEventListener('click', function(e) {
      if (e.target === transportationModal) {
        transportationModal.classList.remove('show');
      }
    });

    // Handle transport option selection
    transportOptions.forEach(option => {
      option.addEventListener('click', function() {
        const transportType = this.getAttribute('data-type');
        switch(transportType) {
          case 'bus':
            window.open('https://www.apsrtconline.in/oprs-web/', '_blank');
            break;
          case 'train':
            window.open('https://www.irctc.co.in/nget/train-search', '_blank');
            break;
          case 'flight':
            window.open('https://www.makemytrip.com/flights/', '_blank');
            break;
          case 'car':
            window.open('https://www.zoomcar.com/', '_blank');
            break;
          case 'cab':
            window.open('https://www.olacabs.com/', '_blank');
            break;
          case 'bike':
            window.open('https://www.olacabs.com/bikes', '_blank');
            break;
          case 'metro':
            window.open('https://www.hyderabadmetrorail.in/book-ticket', '_blank');
            break;
          default:
            window.location.href = 'trips.html';
        }
        transportationModal.classList.remove('show');
      });
    });
    dashboardLink.addEventListener('click', function() {
      window.location.href = 'dashboard.html';
    });

    // Add accommodations, food, and maps links
    const accommodationsLink = document.getElementById('accommodations-link');
    if (accommodationsLink) {
      accommodationsLink.addEventListener('click', function() {
        window.open('https://www.booking.com/index.html', '_blank');
      });
    }

    const foodLink = document.getElementById('food-link');
    if (foodLink) {
      foodLink.addEventListener('click', function() {
        window.open('https://www.swiggy.com/', '_blank');
      });
    }

    const mapsLink = document.getElementById('maps-link');
    if (mapsLink) {
      mapsLink.addEventListener('click', function() {
        window.open('https://www.google.com/maps', '_blank');
      });
    }

    // Logout functionality
    const logoutBtn = document.getElementById('logoutBtn');
    const confirmLogoutBtn = document.getElementById('confirmLogoutBtn');
    const cancelLogoutBtn = document.getElementById('cancelLogoutBtn');

    // Direct logout button click
    if (logoutBtn) {
      logoutBtn.addEventListener('click', function() {
        // This will be handled by the tab navigation code
        // which will show the logout confirmation tab
      });
    }

    // Confirm logout button click
    if (confirmLogoutBtn) {
      confirmLogoutBtn.addEventListener('click', function() {
        // Clear user data from localStorage
        localStorage.removeItem('isLoggedIn');
        localStorage.removeItem('userName');
        localStorage.removeItem('userEmail');
        localStorage.removeItem('userId');
        localStorage.removeItem('userPhone');
        localStorage.removeItem('walletBalance');

        // Redirect to login page
        window.location.href = 'app-login.html';
      });
    }

    // Cancel logout button click
    if (cancelLogoutBtn) {
      cancelLogoutBtn.addEventListener('click', function() {
        // Go back to the previous tab (appearance by default)
        const appearanceTab = document.querySelector('[data-tab="appearance"]');
        if (appearanceTab) {
          appearanceTab.click();
        }
      });
    }
  </script>
</body>
</html>
